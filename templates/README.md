# Taurus Pro ä¼ä¸šçº§Goæ¡†æ¶

[![Go Version](https://img.shields.io/badge/Go-1.24.2+-blue.svg)](https://golang.org)
[![License](https://img.shields.io/badge/License-Apache%202.0-green.svg)](LICENSE)
[![Build Status](https://img.shields.io/badge/Build-Passing-brightgreen.svg)](https://github.com/stones-hub/taurus-pro)

> ğŸš€ **Taurus Pro** æ˜¯ä¸€ä¸ªåŸºäºGoè¯­è¨€æ„å»ºçš„ä¼ä¸šçº§Webåº”ç”¨æ¡†æ¶ï¼Œé›†æˆäº†ç°ä»£åŒ–çš„æ¶æ„è®¾è®¡ã€å®Œæ•´çš„å¼€å‘å·¥å…·é“¾å’Œä¸°å¯Œçš„ä¼ä¸šçº§ç‰¹æ€§ã€‚æ¡†æ¶é‡‡ç”¨åˆ†å±‚æ¶æ„ã€ä¾èµ–æ³¨å…¥ã€ä¸­é—´ä»¶æœºåˆ¶ç­‰æœ€ä½³å®è·µï¼Œä¸ºå¼€å‘è€…æä¾›é«˜æ•ˆã€å¯ç»´æŠ¤ã€å¯æ‰©å±•çš„åº”ç”¨å¼€å‘ä½“éªŒã€‚

## ğŸ“‹ ç›®å½•

- [âœ¨ æ ¸å¿ƒç‰¹æ€§](#-æ ¸å¿ƒç‰¹æ€§)
- [ğŸ—ï¸ æ¶æ„è®¾è®¡](#ï¸-æ¶æ„è®¾è®¡)
- [ğŸš€ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [ğŸ“š è¯¦ç»†æ–‡æ¡£](#-è¯¦ç»†æ–‡æ¡£)
- [ğŸ”§ é…ç½®è¯´æ˜](#-é…ç½®è¯´æ˜)
- [ğŸ“¦ é¡¹ç›®ç»“æ„](#-é¡¹ç›®ç»“æ„)
- [ğŸ› ï¸ å¼€å‘æŒ‡å—](#ï¸-å¼€å‘æŒ‡å—)
- [ğŸ§ª æµ‹è¯•ä¸æ€§èƒ½](#-æµ‹è¯•ä¸æ€§èƒ½)
- [ğŸ³ éƒ¨ç½²æ–¹æ¡ˆ](#-éƒ¨ç½²æ–¹æ¡ˆ)
- [ğŸ“ˆ æ€§èƒ½ç›‘æ§](#-æ€§èƒ½ç›‘æ§)
- [ğŸ¤ è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)
- [ğŸ“„ è®¸å¯è¯](#-è®¸å¯è¯)

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸŒŸ ä¼ä¸šçº§æ¶æ„
- **åˆ†å±‚æ¶æ„è®¾è®¡**: æ¸…æ™°çš„åˆ†å±‚ç»“æ„ï¼ŒèŒè´£åˆ†ç¦»ï¼Œæ˜“äºç»´æŠ¤
- **ç»„ä»¶åŒ–è®¾è®¡**: åŸºäºæ¨¡å—åŒ–ç»„ä»¶æ¶æ„ï¼Œæ¯ä¸ªç»„ä»¶èŒè´£æ˜ç¡®ï¼Œå¯ç‹¬ç«‹å‡çº§å’Œç»´æŠ¤
- **ä¾èµ–æ³¨å…¥**: åŸºäºGoogle Wireçš„è‡ªåŠ¨ä¾èµ–æ³¨å…¥ç³»ç»Ÿï¼Œè‡ªåŠ¨æ‰«æProvider Set
- **ä¸­é—´ä»¶æœºåˆ¶**: çµæ´»çš„ä¸­é—´ä»¶é“¾ï¼Œæ”¯æŒè®¤è¯ã€æ—¥å¿—ã€ç›‘æ§ç­‰ï¼Œå†…ç½®å¸¸ç”¨ä¸­é—´ä»¶ï¼Œæ”¯æŒè‡ªå®šä¹‰å¼€å‘
- **é…ç½®ç®¡ç†**: æ¨¡å—åŒ–é…ç½®è®¾è®¡ï¼Œæ”¯æŒç¯å¢ƒå˜é‡æ³¨å…¥ï¼Œå¤šç¯å¢ƒé…ç½®ï¼Œé…ç½®çƒ­é‡è½½
- **æ—¥å¿—ç³»ç»Ÿ**: ç»“æ„åŒ–æ—¥å¿—ï¼Œæ”¯æŒå¤šç§è¾“å‡ºæ ¼å¼å’Œçº§åˆ«

### ğŸš€ é«˜æ€§èƒ½ç‰¹æ€§
- **å¤šåè®®æ”¯æŒ**: HTTP/2ã€gRPCã€WebSocketã€TCPç­‰åè®®å®Œæ•´æ”¯æŒ
- **HTTP/2æ”¯æŒ**: åŸç”ŸHTTP/2åè®®æ”¯æŒ
- **gRPCé›†æˆ**: å®Œæ•´çš„gRPCæœåŠ¡æ”¯æŒï¼Œæ”¯æŒæµå¼RPC
- **WebSocket**: å®æ—¶åŒå‘é€šä¿¡æ”¯æŒï¼Œå†…ç½®è¿æ¥ç®¡ç†
- **TCPæœåŠ¡**: è‡ªå®šä¹‰åè®®æ”¯æŒï¼Œåº•å±‚ç½‘ç»œæ§åˆ¶
- **è¿æ¥æ± ç®¡ç†**: æ•°æ®åº“å’ŒRedisè¿æ¥æ± ä¼˜åŒ–
- **å¼‚æ­¥å¤„ç†**: æ”¯æŒå¼‚æ­¥ä»»åŠ¡å’Œæ¶ˆæ¯é˜Ÿåˆ—
- **é˜Ÿåˆ—ç³»ç»Ÿ**: åŸºäºRedisçš„åˆ†å¸ƒå¼é˜Ÿåˆ—ï¼Œæ”¯æŒé‡è¯•ã€å¤±è´¥å¤„ç†ã€æ‰¹é‡æ“ä½œ

### ğŸ—„ï¸ æ•°æ®å­˜å‚¨
- **å¤šæ•°æ®åº“æ”¯æŒ**: MySQLã€PostgreSQLã€SQLite
- **ORMé›†æˆ**: åŸºäºGORMçš„æ•°æ®è®¿é—®å±‚
- **æ³›å‹Repository**: åŸºäºGoæ³›å‹çš„é€šç”¨æ•°æ®è®¿é—®å±‚ï¼Œå‡å°‘90%é‡å¤ä»£ç 
- **Redisæ”¯æŒ**: ç¼“å­˜å’Œä¼šè¯å­˜å‚¨
- **å¯¹è±¡å­˜å‚¨**: æ”¯æŒé˜¿é‡Œäº‘OSSã€è…¾è®¯äº‘COSç­‰
- **äº‹åŠ¡ç®¡ç†**: å®Œæ•´çš„äº‹åŠ¡æ”¯æŒ

### ğŸ”§ å¼€å‘å·¥å…·
- **ä»£ç ç”Ÿæˆ**: è‡ªåŠ¨ç”ŸæˆCRUDä»£ç 
- **å‘½ä»¤è¡Œå·¥å…·**: ä¸°å¯Œçš„CLIå‘½ä»¤æ”¯æŒ
- **å®šæ—¶ä»»åŠ¡**: Cronè¡¨è¾¾å¼æ”¯æŒçš„å®šæ—¶ä»»åŠ¡ç³»ç»Ÿ
- **é’©å­ç³»ç»Ÿ**: åº”ç”¨ç”Ÿå‘½å‘¨æœŸé’©å­ç®¡ç†
- **çƒ­é‡è½½**: å¼€å‘ç¯å¢ƒä¸‹çš„ä»£ç çƒ­é‡è½½

### ğŸ“¨ é˜Ÿåˆ—ç³»ç»Ÿ
- **åˆ†å¸ƒå¼é˜Ÿåˆ—**: åŸºäºRedisçš„å¯é é˜Ÿåˆ—å®ç°
- **å¤šé˜Ÿåˆ—æ”¯æŒ**: æºé˜Ÿåˆ—ã€å¤„ç†é˜Ÿåˆ—ã€å¤±è´¥é˜Ÿåˆ—ã€é‡è¯•é˜Ÿåˆ—
- **é‡è¯•æœºåˆ¶**: å¯é…ç½®çš„é‡è¯•ç­–ç•¥å’Œå»¶è¿Ÿç­–ç•¥
- **æ‰¹é‡å¤„ç†**: æ”¯æŒæ‰¹é‡è¯»å–å’Œå¤„ç†æ•°æ®
- **å¤±è´¥å¤„ç†**: è‡ªåŠ¨å¤±è´¥é˜Ÿåˆ—ç®¡ç†å’Œé”™è¯¯ç»Ÿè®¡
- **ç›‘æ§ç»Ÿè®¡**: å®æ—¶å¤„ç†ç»Ÿè®¡å’Œæ€§èƒ½æŒ‡æ ‡

### ğŸ“Š ç›‘æ§ä¸è¿ç»´
- **æ€§èƒ½åˆ†æ**: é›†æˆpprofæ€§èƒ½åˆ†æå·¥å…·
- **å¥åº·æ£€æŸ¥**: åº”ç”¨å¥åº·çŠ¶æ€ç›‘æ§
- **æŒ‡æ ‡æ”¶é›†**: PrometheusæŒ‡æ ‡æ”¶é›†
- **é“¾è·¯è¿½è¸ª**: OpenTelemetryé›†æˆ
- **å®¹å™¨åŒ–**: Dockerå’ŒKubernetesæ”¯æŒ

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### æ•´ä½“æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Taurus Pro                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  HTTP Server  â”‚  gRPC Server  â”‚  WebSocket  â”‚  Cli Commond â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    Middleware Layer                        â”‚
â”‚  Built-in     â”‚  Custom       â”‚  Auth        â”‚  Logging    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Controller   â”‚  Service      â”‚  Repository  â”‚  Model      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    Data Access Layer                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Database     â”‚  Redis        â”‚  Object Storage â”‚  Queue   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    Queue Processing Layer                  â”‚
â”‚  Source Queue â”‚  Processing   â”‚  Retry Queue â”‚  Failed    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ”— ç»„ä»¶ä¾èµ–å…³ç³»

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    åº”ç”¨å±‚ (Application)                     â”‚
â”‚  Controller â†â†’ Service â†â†’ Repository â†â†’ Model             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    æ¡†æ¶å±‚ (Framework)                       â”‚
â”‚  taurus-pro-http    â”‚  taurus-pro-grpc    â”‚  taurus-pro-tcp â”‚
â”‚  taurus-pro-storage â”‚  taurus-pro-consul  â”‚  taurus-pro-otelâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    åŸºç¡€å±‚ (Foundation)                      â”‚
â”‚  taurus-pro-common  â”‚  taurus-pro-config  â”‚  Google Wire   â”‚
â”‚  GORM               â”‚  gRPC               â”‚  Redis         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒç»„ä»¶
- **Container**: åº”ç”¨å®¹å™¨ï¼Œç®¡ç†æ‰€æœ‰ç»„ä»¶å®ä¾‹
- **Router**: è·¯ç”±ç®¡ç†å™¨ï¼Œæ”¯æŒRESTful APIè®¾è®¡
- **Middleware**: ä¸­é—´ä»¶ç³»ç»Ÿï¼Œæ”¯æŒé“¾å¼è°ƒç”¨ï¼Œå†…ç½®å¸¸ç”¨ä¸­é—´ä»¶ï¼Œæ”¯æŒè‡ªå®šä¹‰å¼€å‘
- **Service**: ä¸šåŠ¡é€»è¾‘å±‚ï¼Œå°è£…æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
- **Repository**: æ•°æ®è®¿é—®å±‚ï¼ŒæŠ½è±¡æ•°æ®æ“ä½œï¼ŒåŸºäºæ³›å‹å®ç°å‡å°‘é‡å¤ä»£ç 
- **Model**: æ•°æ®æ¨¡å‹ï¼Œå®šä¹‰ä¸šåŠ¡å®ä½“ç»“æ„
- **Queue Manager**: é˜Ÿåˆ—ç®¡ç†å™¨ï¼Œå¤„ç†å¼‚æ­¥ä»»åŠ¡å’Œæ¶ˆæ¯é˜Ÿåˆ—

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Go 1.24.2+
- MySQL 8.0+ / PostgreSQL 12+ / SQLite 3
- Redis 6.0+
- Docker (å¯é€‰)

### ğŸ§© æ¡†æ¶ç»„ä»¶æ¶æ„

Taurus Pro æ¡†æ¶åŸºäºæ¨¡å—åŒ–è®¾è®¡ï¼Œé›†æˆäº†å¤šä¸ªä¸“ä¸šç»„ä»¶ï¼Œæ¯ä¸ªç»„ä»¶éƒ½æœ‰æ˜ç¡®çš„èŒè´£å’Œèƒ½åŠ›è¾¹ç•Œã€‚

#### **æ ¸å¿ƒç»„ä»¶** (`github.com/stones-hub/taurus-pro-*`)

##### **taurus-pro-common**
- **åœ°å€**: https://github.com/stones-hub/taurus-pro-common
- **èƒ½åŠ›**: æ¡†æ¶æ ¸å¿ƒå…¬å…±åº“
  - å‘½ä»¤è¡Œå·¥å…· (`cmd`): æ”¯æŒå¤šç§æ•°æ®ç±»å‹çš„CLIæ¡†æ¶
  - å®šæ—¶ä»»åŠ¡ (`cron`): æ”¯æŒç§’çº§ç²¾åº¦çš„ä»»åŠ¡è°ƒåº¦ç³»ç»Ÿ
  - å·¥å…·å‡½æ•° (`util`): IPå¤„ç†ã€å­—ç¬¦ä¸²å¤„ç†ç­‰é€šç”¨å·¥å…·
  - é”™è¯¯å¤„ç† (`recovery`): å…¨å±€panicæ¢å¤æœºåˆ¶
  - é…ç½®ç®¡ç† (`config`): é…ç½®è¯»å–å’Œç¯å¢ƒå˜é‡å¤„ç†

##### **taurus-pro-config**
- **åœ°å€**: https://github.com/stones-hub/taurus-pro-config
- **èƒ½åŠ›**: é…ç½®ç®¡ç†æ ¸å¿ƒ
  - å¤šæ ¼å¼æ”¯æŒ: YAMLã€TOMLã€JSONã€ç¯å¢ƒå˜é‡
  - é…ç½®çƒ­é‡è½½: è¿è¡Œæ—¶åŠ¨æ€æ›´æ–°é…ç½®
  - é…ç½®éªŒè¯: å¯åŠ¨æ—¶éªŒè¯é…ç½®æœ‰æ•ˆæ€§
  - ç¯å¢ƒéš”ç¦»: å¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒé…ç½®åˆ†ç¦»

##### **taurus-pro-http**
- **åœ°å€**: https://github.com/stones-hub/taurus-pro-http
- **èƒ½åŠ›**: HTTPæœåŠ¡æ¡†æ¶
  - è·¯ç”±ç®¡ç†: RESTful APIè·¯ç”±å’Œä¸­é—´ä»¶æ”¯æŒ
  - å†…ç½®ä¸­é—´ä»¶: CORSã€æ—¥å¿—ã€æ¢å¤ã€é™æµã€å‹ç¼©ã€å®‰å…¨å¤´
  - å“åº”å¤„ç†: ç»Ÿä¸€çš„å“åº”æ ¼å¼å’Œé”™è¯¯å¤„ç†
  - ä¼˜é›…å…³é—­: æ”¯æŒä¼˜é›…å…³é—­å’Œè¶…æ—¶æ§åˆ¶
  - æ€§èƒ½ä¼˜åŒ–: HTTP/2æ”¯æŒã€è¿æ¥æ± ç®¡ç†

##### **taurus-pro-grpc**
- **åœ°å€**: https://github.com/stones-hub/taurus-pro-grpc
- **èƒ½åŠ›**: gRPCæœåŠ¡æ¡†æ¶
  - æœåŠ¡æ³¨å†Œ: è‡ªåŠ¨æœåŠ¡å‘ç°å’Œæ³¨å†Œ
  - è´Ÿè½½å‡è¡¡: å¤šç§è´Ÿè½½å‡è¡¡ç­–ç•¥
  - æ‹¦æˆªå™¨: è®¤è¯ã€æ—¥å¿—ã€ç›‘æ§æ‹¦æˆªå™¨
  - æµæ§åˆ¶: åŒå‘æµå’Œæµå¼RPCæ”¯æŒ
  - TLSæ”¯æŒ: å®‰å…¨ä¼ è¾“å±‚é…ç½®

##### **taurus-pro-storage**
- **åœ°å€**: https://github.com/stones-hub/taurus-pro-storage
- **èƒ½åŠ›**: æ•°æ®å­˜å‚¨æŠ½è±¡å±‚
  - æ•°æ®åº“æ”¯æŒ: MySQLã€PostgreSQLã€SQLite
  - ORMé›†æˆ: åŸºäºGORMçš„æ³›å‹Repository
  - è¿æ¥æ± : å¯é…ç½®çš„è¿æ¥æ± ç®¡ç†
  - äº‹åŠ¡æ”¯æŒ: å®Œæ•´çš„äº‹åŠ¡å’Œå›æ»šæœºåˆ¶
  - å¯¹è±¡å­˜å‚¨: é˜¿é‡Œäº‘OSSã€è…¾è®¯äº‘COSç­‰
  - é˜Ÿåˆ—ç³»ç»Ÿ: åŸºäºRedisçš„åˆ†å¸ƒå¼é˜Ÿåˆ—

##### **taurus-pro-consul**
- **åœ°å€**: https://github.com/stones-hub/taurus-pro-consul
- **èƒ½åŠ›**: æœåŠ¡å‘ç°å’Œé…ç½®ä¸­å¿ƒ
  - æœåŠ¡æ³¨å†Œ: è‡ªåŠ¨æœåŠ¡æ³¨å†Œå’Œå¥åº·æ£€æŸ¥
  - æœåŠ¡å‘ç°: æœåŠ¡æŸ¥è¯¢å’Œè´Ÿè½½å‡è¡¡
  - KVå­˜å‚¨: é…ç½®é”®å€¼å¯¹ç®¡ç†
  - å¥åº·æ£€æŸ¥: HTTPã€TCPã€è„šæœ¬å¥åº·æ£€æŸ¥
  - æ•°æ®ä¸­å¿ƒ: å¤šæ•°æ®ä¸­å¿ƒæ”¯æŒ

##### **taurus-pro-opentelemetry**
- **åœ°å€**: https://github.com/stones-hub/taurus-pro-opentelemetry
- **èƒ½åŠ›**: å¯è§‚æµ‹æ€§æ¡†æ¶
  - é“¾è·¯è¿½è¸ª: åˆ†å¸ƒå¼è¯·æ±‚è¿½è¸ª
  - æŒ‡æ ‡æ”¶é›†: PrometheusæŒ‡æ ‡æ”¶é›†
  - æ—¥å¿—èšåˆ: ç»“æ„åŒ–æ—¥å¿—å’Œæ—¥å¿—å…³è”
  - é‡‡æ ·æ§åˆ¶: å¯é…ç½®çš„é‡‡æ ·ç­–ç•¥
  - å¯¼å‡ºæ”¯æŒ: gRPCã€HTTPå¯¼å‡ºåè®®

##### **taurus-pro-tcp**
- **åœ°å€**: https://github.com/stones-hub/taurus-pro-tcp
- **èƒ½åŠ›**: TCPæœåŠ¡æ¡†æ¶
  - è¿æ¥ç®¡ç†: è¿æ¥æ± å’Œç”Ÿå‘½å‘¨æœŸç®¡ç†
  - åè®®æ”¯æŒ: è‡ªå®šä¹‰åè®®è§£æ
  - å¿ƒè·³æœºåˆ¶: Keep-Aliveå’Œè¿æ¥ä¿æ´»
  - ç¼“å†²åŒºç®¡ç†: å¯é…ç½®çš„è¯»å†™ç¼“å†²åŒº
  - å¹¶å‘æ§åˆ¶: æœ€å¤§è¿æ¥æ•°é™åˆ¶

#### **ç¬¬ä¸‰æ–¹ç»„ä»¶**

##### **Google Wire**
- **åœ°å€**: https://github.com/google/wire
- **èƒ½åŠ›**: ä¾èµ–æ³¨å…¥æ¡†æ¶
  - ç¼–è¯‘æ—¶ä¾èµ–æ³¨å…¥: ç±»å‹å®‰å…¨çš„ä¾èµ–ç®¡ç†
  - è‡ªåŠ¨ä»£ç ç”Ÿæˆ: å‡å°‘æ‰‹å†™æ ·æ¿ä»£ç 
  - å¾ªç¯ä¾èµ–æ£€æµ‹: ç¼–è¯‘æ—¶å‘ç°ä¾èµ–é—®é¢˜

##### **GORM**
- **åœ°å€**: https://gorm.io/
- **èƒ½åŠ›**: Goè¯­è¨€ORMåº“
  - æ•°æ®åº“æŠ½è±¡: æ”¯æŒå¤šç§æ•°æ®åº“
  - è‡ªåŠ¨è¿ç§»: æ•°æ®åº“ç»“æ„è‡ªåŠ¨æ›´æ–°
  - å…³è”æŸ¥è¯¢: å¤æ‚å…³ç³»æŸ¥è¯¢æ”¯æŒ
  - é’©å­æœºåˆ¶: ç”Ÿå‘½å‘¨æœŸé’©å­
  - äº‹åŠ¡æ”¯æŒ: å®Œæ•´çš„äº‹åŠ¡ç®¡ç†

##### **gRPC**
- **åœ°å€**: https://grpc.io/
- **èƒ½åŠ›**: é«˜æ€§èƒ½RPCæ¡†æ¶
  - åè®®ç¼“å†²: é«˜æ•ˆçš„åºåˆ—åŒ–åè®®
  - å¤šè¯­è¨€æ”¯æŒ: è·¨è¯­è¨€æœåŠ¡è°ƒç”¨
  - æµå¼RPC: åŒå‘æµé€šä¿¡
  - æ‹¦æˆªå™¨: ä¸­é—´ä»¶æœºåˆ¶
  - è´Ÿè½½å‡è¡¡: å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡

### å®‰è£…ä¾èµ–
```bash
# å®‰è£…Goä¾èµ–
go mod download

# å®‰è£…Wireå·¥å…·
go install github.com/google/wire/cmd/wire@latest
```

### ğŸ” **Wireå·¥å…·å®‰è£…è¯´æ˜**
Wireæ˜¯Googleå¼€å‘çš„Goä¾èµ–æ³¨å…¥å·¥å…·ï¼Œæ¡†æ¶é›†æˆäº†è‡ªåŠ¨æ‰«æåŠŸèƒ½ï¼š
- **è‡ªåŠ¨æ‰«æ**: æ— éœ€æ‰‹åŠ¨é…ç½®ï¼Œè‡ªåŠ¨å‘ç°æ‰€æœ‰Provider Set
- **ä»£ç ç”Ÿæˆ**: è‡ªåŠ¨ç”Ÿæˆç±»å‹å®‰å…¨çš„ä¾èµ–æ³¨å…¥ä»£ç 
- **ç¼–è¯‘æ—¶æ£€æŸ¥**: åœ¨ç¼–è¯‘æ—¶éªŒè¯ä¾èµ–å…³ç³»ï¼Œé¿å…è¿è¡Œæ—¶é”™è¯¯

### é…ç½®ç¯å¢ƒ
```bash
# å¤åˆ¶ç¯å¢ƒé…ç½®æ–‡ä»¶
cp .env.example .env.local

# ç¼–è¾‘ç¯å¢ƒå˜é‡
vim .env.local
```

### å¯åŠ¨åº”ç”¨
```bash
# ç”Ÿæˆä¾èµ–æ³¨å…¥ä»£ç 
make wire

# è¿è¡Œåº”ç”¨
make run

# æˆ–è€…ç›´æ¥è¿è¡Œ
go run ./bin/taurus.go
```

### ğŸ”§ Wireä¾èµ–æ³¨å…¥ç³»ç»Ÿ

æ¡†æ¶ä½¿ç”¨Google Wireè¿›è¡Œè‡ªåŠ¨ä¾èµ–æ³¨å…¥ï¼Œ`make wire` å‘½ä»¤ä¼šè‡ªåŠ¨æ‰«æå¹¶ç”Ÿæˆä¾èµ–æ³¨å…¥ä»£ç ï¼š

#### ğŸ“ **è‡ªåŠ¨æ‰«ææœºåˆ¶**
- è‡ªåŠ¨æ‰«æ `app/` ç›®å½•ä¸‹çš„æ‰€æœ‰Goæ–‡ä»¶
- è¯†åˆ«ä»¥ `WireSet`ã€`Set`ã€`ProviderSet` ç»“å°¾çš„å˜é‡
- è‡ªåŠ¨ç”Ÿæˆ `wire_gen.go` æ–‡ä»¶

#### ğŸ¯ **Provider Setå‘½åè§„èŒƒ**
```go
// æ§åˆ¶å™¨ä¾èµ–æ³¨å…¥é›†åˆ
var IndexControllerSet = wire.NewSet(wire.Struct(new(IndexController), "*"))
var UserControllerSet = wire.NewSet(wire.Struct(new(UserController), "*"))

// æœåŠ¡å±‚ä¾èµ–æ³¨å…¥é›†åˆ  
var IndexServiceSet = wire.NewSet(wire.Struct(new(IndexService), "*"))
var UserServiceSet = wire.NewSet(wire.Struct(new(UserService), "*"))

// ä¸­é—´ä»¶ä¾èµ–æ³¨å…¥é›†åˆ
var AuthMiddlewareSet = wire.NewSet(wire.Struct(new(AuthMiddleware), "*"))
```

### è®¿é—®æœåŠ¡
- **HTTPæœåŠ¡**: http://localhost:8080
- **gRPCæœåŠ¡**: localhost:9000
- **WebSocketæœåŠ¡**: ws://localhost:8080/ws
- **TCPæœåŠ¡**: localhost:8081
- **æ€§èƒ½åˆ†æ**: http://localhost:6060/debug/pprof/
- **å¥åº·æ£€æŸ¥**: http://localhost:8080/health

## ğŸ“š è¯¦ç»†æ–‡æ¡£

### åŸºç¡€ä½¿ç”¨
- [è·¯ç”±é…ç½®](docs/routing.md)
- [ä¸­é—´ä»¶å¼€å‘](docs/middleware.md)
- [æ•°æ®åº“æ“ä½œ](docs/database.md)
- [ç¼“å­˜ä½¿ç”¨](docs/cache.md)

### é«˜çº§ç‰¹æ€§
- [ä¾èµ–æ³¨å…¥](docs/dependency-injection.md)
- [å®šæ—¶ä»»åŠ¡](docs/cron.md)
- [é’©å­ç³»ç»Ÿ](docs/hooks.md)
- [æ€§èƒ½ä¼˜åŒ–](docs/performance.md)

### APIæ–‡æ¡£
- [RESTful API](docs/api/rest.md)
- [gRPC API](docs/api/grpc.md)
- [WebSocket API](docs/api/websocket.md)

## ğŸ”§ é…ç½®è¯´æ˜

### ä¸»é…ç½®æ–‡ä»¶
```yaml
# config/config.yaml
version: "${VERSION:v1.0.0}"
app_name: "${APP_NAME:taurus}"
pprof_enabled: true
go:
  max_procs: 8
  gc: 150
  memory_limit: 12
```

### HTTPé…ç½®
```yaml
# config/autoload/http/http.yaml
http:
  address: "${SERVER_ADDRESS:0.0.0.0}"
  port: ${SERVER_PORT:8080}
  shutdown_timeout: 5
  read_timeout: 30
  write_timeout: 30
  idle_timeout: 120
  authorization: "Bearer ${AUTHORIZATION:123456}"
```

### æ•°æ®åº“é…ç½®
```yaml
# config/autoload/db/db.yaml
databases:
  enable: true
  list:
    - dbname: "${DB_NAME:kf_ai_demo}"
      dbtype: "mysql"
      dsn: "${DB_DSN:user:pass@tcp(localhost:3306)/dbname?charset=utf8mb4&parseTime=True&loc=Local}"
      max_open_conns: 500
      max_idle_conns: 50
      conn_max_lifetime: 600
```

### ğŸ”§ å®Œæ•´é…ç½®è¯´æ˜

æ¡†æ¶é‡‡ç”¨æ¨¡å—åŒ–é…ç½®è®¾è®¡ï¼Œæ‰€æœ‰é…ç½®éƒ½åœ¨ `config/autoload/` ç›®å½•ä¸‹ï¼Œæ”¯æŒç¯å¢ƒå˜é‡æ³¨å…¥ã€‚

#### **ä¸»é…ç½®æ–‡ä»¶** (`config/config.yaml`)
```yaml
version: "${VERSION:v1.0.0}"        # åº”ç”¨ç‰ˆæœ¬
app_name: "${APP_NAME:taurus}"      # åº”ç”¨åç§°
pprof_enabled: true                 # æ˜¯å¦å¯ç”¨æ€§èƒ½åˆ†æ
go:
  max_procs: 8                      # æœ€å¤§CPUæ ¸å¿ƒæ•°
  gc: 150                           # åƒåœ¾å›æ”¶æ¯”ä¾‹
  memory_limit: 12                  # å†…å­˜é™åˆ¶(GB)
```

#### **HTTPæœåŠ¡é…ç½®** (`config/autoload/http/http.yaml`)
```yaml
http:
  address: "${SERVER_ADDRESS:0.0.0.0}"  # æœåŠ¡ç›‘å¬åœ°å€
  port: ${SERVER_PORT:8080}             # æœåŠ¡ç«¯å£
  shutdown_timeout: 5                    # ä¼˜é›…å…³é—­è¶…æ—¶æ—¶é—´(ç§’)
  read_timeout: 30                       # è¯»å–è¶…æ—¶æ—¶é—´(ç§’)
  write_timeout: 30                      # å†™å…¥è¶…æ—¶æ—¶é—´(ç§’)
  idle_timeout: 120                      # ç©ºé—²è¿æ¥è¶…æ—¶æ—¶é—´(ç§’)
  authorization: "Bearer ${AUTHORIZATION:123456}"  # æˆæƒç 
```

#### **æ•°æ®åº“é…ç½®** (`config/autoload/db/db.yaml`)
```yaml
databases:
  enable: true
  list:
    - dbname: "${DB_NAME:kf_ai_demo}"    # æ•°æ®åº“åç§°æ ‡è¯†
      dbtype: "mysql"                    # æ•°æ®åº“ç±»å‹(mysql/postgres/sqlite)
      dsn: "${DB_DSN:user:pass@tcp(localhost:3306)/dbname?charset=utf8mb4&parseTime=True&loc=Local}"
      max_open_conns: 500                # æœ€å¤§è¿æ¥æ•°
      max_idle_conns: 50                 # æœ€å¤§ç©ºé—²è¿æ¥æ•°
      conn_max_lifetime: 600             # è¿æ¥æœ€å¤§ç”Ÿå‘½å‘¨æœŸ(ç§’)
      max_retries: 10                    # æœ€å¤§é‡è¯•æ¬¡æ•°
      retry_delay: 15                    # é‡è¯•å»¶è¿Ÿæ—¶é—´(ç§’)
      log_path: "./logs/db/db.log"       # æ—¥å¿—è·¯å¾„
      log_level: "info"                  # æ—¥å¿—çº§åˆ«
      log_formatter: "default"           # æ—¥å¿—æ ¼å¼
```

#### **Redisé…ç½®** (`config/autoload/redis/redis.toml`)
```toml
[redis]
enable = true                                    # æ˜¯å¦å¯ç”¨Redis
address = ["${REDIS_HOST:redis_demo}:${REDIS_PORT:6379}"]  # Redisåœ°å€åˆ—è¡¨
password = ${REDIS_PASSWORD:""}                 # Rediså¯†ç 
db = 0                                          # æ•°æ®åº“ç´¢å¼•
pool_size = 500                                 # è¿æ¥æ± å¤§å°
min_idle_conns = 50                             # æœ€å°ç©ºé—²è¿æ¥æ•°
dial_timeout = 5                                # è¿æ¥è¶…æ—¶æ—¶é—´(ç§’)
read_timeout = 3                                # è¯»å–è¶…æ—¶æ—¶é—´(ç§’)
write_timeout = 3                               # å†™å…¥è¶…æ—¶æ—¶é—´(ç§’)
max_retries = 3                                 # æœ€å¤§é‡è¯•æ¬¡æ•°
logger_fomatter = "default"                     # æ—¥å¿—æ ¼å¼
logger_path = "./logs/redis/redis.log"          # æ—¥å¿—è·¯å¾„
logger_level = "info"                           # æ—¥å¿—çº§åˆ«
logger_max_size = 100                           # å•ä¸ªæ—¥å¿—æ–‡ä»¶å¤§å°(MB)
logger_max_backups = 10                         # ä¿ç•™çš„æ—§æ—¥å¿—æ–‡ä»¶æ•°é‡
logger_max_age = 7                              # æ—¥å¿—æ–‡ä»¶æœ€å¤§ä¿å­˜å¤©æ•°
```

#### **æ—¥å¿—é…ç½®** (`config/autoload/logger/logger.yaml`)
```yaml
loggers:
  - name: default                               # æ—¥å¿—å™¨åç§°
    prefix: ""                                  # æ—¥å¿—å‰ç¼€
    log_level: 0                                # æ—¥å¿—çº§åˆ«(0:debug, 1:info, 2:warn, 3:error, 4:fatal, 5:none)
    output_type: file                           # è¾“å‡ºç±»å‹(console/file)
    log_file_path: logs/app.log                 # æ—¥å¿—æ–‡ä»¶è·¯å¾„
    max_size: 100                               # å•ä¸ªæ—¥å¿—æ–‡ä»¶æœ€å¤§å¤§å°(MB)
    max_backups: 5                              # ä¿ç•™çš„æ—§æ—¥å¿—æ–‡ä»¶æ•°é‡
    max_age: 30                                 # æ—¥å¿—æ–‡ä»¶æœ€å¤§ä¿å­˜å¤©æ•°
    compress: true                              # æ˜¯å¦å‹ç¼©æ—§æ—¥å¿—æ–‡ä»¶
    formatter: default                          # æ—¥å¿—æ ¼å¼(default/json)
```

#### **OpenTelemetryé…ç½®** (`config/autoload/otel/otel.yaml`)
```yaml
otel:
  enable: true                                 # æ˜¯å¦å¯ç”¨é“¾è·¯è¿½è¸ª
  service:
    name: Taurus                               # æœåŠ¡åç§°
    version: v0.1.0                            # æœåŠ¡ç‰ˆæœ¬
    environment: dev                            # ç¯å¢ƒæ ‡è¯†
  export:
    protocol: grpc                             # å¯¼å‡ºåè®®(grpc/http)
    endpoint: 192.168.3.240:4317              # å¯¼å‡ºç«¯ç‚¹
    insecure: true                             # æ˜¯å¦è·³è¿‡TLSéªŒè¯
    timeout: 10s                               # å¯¼å‡ºè¶…æ—¶æ—¶é—´
  sampling:
    ratio: 1.0                                 # é‡‡æ ·æ¯”ä¾‹(0.0-1.0)
  batch:
    timeout: 10s                               # æ‰¹å¤„ç†è¶…æ—¶æ—¶é—´
    max_size: 10                               # æ‰¹å¤„ç†æœ€å¤§å¤§å°
    max_queue_size: 10                         # æ‰¹å¤„ç†é˜Ÿåˆ—æœ€å¤§å¤§å°
    export_timeout: 10s                        # å¯¼å‡ºè¶…æ—¶æ—¶é—´
  tracers: ["http-server", "grpc-server"]      # è¿½è¸ªå™¨åˆ—è¡¨
```

#### **ConsulæœåŠ¡å‘ç°é…ç½®** (`config/autoload/consul/consul.yaml`)
```yaml
consul:
  enable: true                                 # æ˜¯å¦å¯ç”¨Consul
  client:
    address: "192.168.3.240:8500"             # ConsulæœåŠ¡åœ°å€
    token: ""                                  # è®¤è¯Token
    timeout: 5                                 # å®¢æˆ·ç«¯è¶…æ—¶æ—¶é—´(ç§’)
    scheme: "http"                             # åè®®ç±»å‹
    datacenter: "dc1"                          # æ•°æ®ä¸­å¿ƒ
    wait_time: 10                              # ç­‰å¾…è¿”å›ç»“æœæ—¶é—´(ç§’)
    retry_time: 3                              # é‡è¯•é—´éš”æ—¶é—´(ç§’)
    max_retrys: 3                              # æœ€å¤§é‡è¯•æ¬¡æ•°
  service:
    name: "taurus"                             # æœåŠ¡åç§°
    id: "taurus-1"                             # æœåŠ¡ID
    tags: ["http", "tcp", "https"]             # æœåŠ¡æ ‡ç­¾
    address: "192.168.40.30"                   # æœåŠ¡åœ°å€
    port: 8080                                 # æœåŠ¡ç«¯å£
    meta: {version: "v0.0.1", type: "http"}   # æœåŠ¡å…ƒæ•°æ®
    healths:                                   # å¥åº·æ£€æŸ¥é…ç½®
      - http: "http://192.168.40.30:8080/health"  # å¥åº·æ£€æŸ¥URL
        http_method: "GET"                     # å¥åº·æ£€æŸ¥æ–¹æ³•
        interval: 10                           # æ£€æŸ¥é—´éš”æ—¶é—´(ç§’)
        timeout: 5                             # æ£€æŸ¥è¶…æ—¶æ—¶é—´(ç§’)
        deregister_after: 10                   # æœåŠ¡ä¸‹çº¿åç§»é™¤æ—¶é—´(ç§’)
  watch:                                       # KVç›‘å¬é…ç½®
    wait_time: 10                              # è·å–KVç­‰å¾…æ—¶é—´(ç§’)
    retry_time: 3                              # é‡è¯•é—´éš”æ—¶é—´(ç§’)
  invoke:                                      # æœåŠ¡è°ƒç”¨é…ç½®
    load_balance_strategy: 0                   # è´Ÿè½½å‡è¡¡ç­–ç•¥(0:éšæœº, 1:è½®è¯¢, 2:æœ€å°‘è¿æ¥)
    timeout: 5                                 # è¯·æ±‚è¶…æ—¶æ—¶é—´(ç§’)
    retry_count: 3                             # é‡è¯•æ¬¡æ•°
    retry_interval: 1                          # é‡è¯•é—´éš”æ—¶é—´(ç§’)
```

#### **å®šæ—¶ä»»åŠ¡é…ç½®** (`config/autoload/cron/cron.yaml`)
```yaml
cron:
  enable: true                                 # æ˜¯å¦å¯ç”¨å®šæ—¶ä»»åŠ¡
  location: "Asia/Shanghai"                    # æ—¶åŒºè®¾ç½®
  enable_seconds: true                         # æ˜¯å¦å¯ç”¨ç§’çº§å®šæ—¶
  concurrency_mode: 1                          # å¹¶å‘æ¨¡å¼(0:å…è®¸å¹¶å‘, 1:è·³è¿‡é‡å¤, 2:ç­‰å¾…å®Œæˆ)
```

#### **gRPCé…ç½®** (`config/autoload/gRPC/server.yaml`)
```yaml
grpc:
  enable: true                                 # æ˜¯å¦å¯ç”¨gRPCæœåŠ¡
  address: "${GRPC_ADDRESS:0.0.0.0}"          # gRPCç›‘å¬åœ°å€
  port: ${GRPC_PORT:9000}                     # gRPCç›‘å¬ç«¯å£
  tls_enable: false                            # æ˜¯å¦å¯ç”¨TLS
  cert_file: ""                                # è¯ä¹¦æ–‡ä»¶è·¯å¾„
  key_file: ""                                 # ç§é’¥æ–‡ä»¶è·¯å¾„
  max_concurrent_streams: 100                 # æœ€å¤§å¹¶å‘æµæ•°
  max_connection_idle: 300                    # æœ€å¤§ç©ºé—²è¿æ¥æ—¶é—´(ç§’)
  max_connection_age: 600                     # æœ€å¤§è¿æ¥å­˜æ´»æ—¶é—´(ç§’)
```

#### **WebSocketé…ç½®** (`config/autoload/websocket/ws.yaml`)
```yaml
websocket:
  enable: true                                 # æ˜¯å¦å¯ç”¨WebSocket
  path: "/ws"                                  # WebSocketè·¯å¾„
  max_connections: 1000                        # æœ€å¤§è¿æ¥æ•°
  read_buffer_size: 1024                       # è¯»å–ç¼“å†²åŒºå¤§å°
  write_buffer_size: 1024                      # å†™å…¥ç¼“å†²åŒºå¤§å°
  ping_interval: 30                            # Pingé—´éš”æ—¶é—´(ç§’)
  pong_wait: 60                                # Pongç­‰å¾…æ—¶é—´(ç§’)
  max_message_size: 512                        # æœ€å¤§æ¶ˆæ¯å¤§å°
```

#### **TCPé…ç½®** (`config/autoload/tcp/tcp.yaml`)
```yaml
tcp:
  enable: true                                 # æ˜¯å¦å¯ç”¨TCPæœåŠ¡
  address: "${TCP_ADDRESS:0.0.0.0}"           # TCPç›‘å¬åœ°å€
  port: ${TCP_PORT:8081}                      # TCPç›‘å¬ç«¯å£
  max_connections: 1000                        # æœ€å¤§è¿æ¥æ•°
  read_buffer_size: 1024                       # è¯»å–ç¼“å†²åŒºå¤§å°
  write_buffer_size: 1024                      # å†™å…¥ç¼“å†²åŒºå¤§å°
  keep_alive: true                             # æ˜¯å¦å¯ç”¨Keep-Alive
  keep_alive_period: 30                       # Keep-Aliveå‘¨æœŸ(ç§’)
```

#### **æ¨¡æ¿é…ç½®** (`config/autoload/templates/templates.yaml`)
```yaml
templates:
  enable: true                                 # æ˜¯å¦å¯ç”¨æ¨¡æ¿
  path: "./templates"                          # æ¨¡æ¿æ–‡ä»¶è·¯å¾„
  extension: ".html"                           # æ¨¡æ¿æ–‡ä»¶æ‰©å±•å
  reload: true                                 # æ˜¯å¦å¯ç”¨çƒ­é‡è½½
  minify: false                                # æ˜¯å¦å‹ç¼©è¾“å‡º
  cache: true                                  # æ˜¯å¦å¯ç”¨ç¼“å­˜
```

#### **MCPé…ç½®** (`config/autoload/mcp/mcp.yaml`)
```yaml
mcp:
  enable: true                                 # æ˜¯å¦å¯ç”¨MCPæœåŠ¡
  address: "${MCP_ADDRESS:0.0.0.0}"           # MCPç›‘å¬åœ°å€
  port: ${MCP_PORT:8082}                      # MCPç›‘å¬ç«¯å£
  protocol: "tcp"                              # åè®®ç±»å‹
  timeout: 30                                  # è¶…æ—¶æ—¶é—´(ç§’)
  max_connections: 100                         # æœ€å¤§è¿æ¥æ•°
```

### ğŸ’¡ **é…ç½®ç®¡ç†æœ€ä½³å®è·µ**

#### **ç¯å¢ƒå˜é‡æ³¨å…¥**
æ¡†æ¶æ”¯æŒç¯å¢ƒå˜é‡æ³¨å…¥ï¼Œä½¿ç”¨ `${ENV_NAME:default_value}` æ ¼å¼ï¼š
```bash
# ç¯å¢ƒå˜é‡è®¾ç½®
export VERSION=v1.0.1
export APP_NAME=myapp
export SERVER_PORT=9090
export DB_DSN="user:pass@tcp(localhost:3306)/mydb"
export REDIS_HOST=redis.example.com
export REDIS_PORT=6379
```

#### **é…ç½®æ–‡ä»¶ä¼˜å…ˆçº§**
1. **ç¯å¢ƒå˜é‡**: æœ€é«˜ä¼˜å…ˆçº§ï¼Œè¿è¡Œæ—¶åŠ¨æ€ä¿®æ”¹
2. **é…ç½®æ–‡ä»¶**: ä¸­ç­‰ä¼˜å…ˆçº§ï¼Œéƒ¨ç½²æ—¶é…ç½®
3. **é»˜è®¤å€¼**: æœ€ä½ä¼˜å…ˆçº§ï¼Œä»£ç ä¸­ç¡¬ç¼–ç 

#### **é…ç½®çƒ­é‡è½½**
éƒ¨åˆ†é…ç½®æ”¯æŒçƒ­é‡è½½ï¼Œæ— éœ€é‡å¯æœåŠ¡ï¼š
- æ—¥å¿—çº§åˆ«è°ƒæ•´
- è¿æ¥æ± å¤§å°ä¿®æ”¹
- é™æµå‚æ•°è°ƒæ•´

#### **é…ç½®éªŒè¯**
æ¡†æ¶åœ¨å¯åŠ¨æ—¶ä¼šéªŒè¯é…ç½®çš„æœ‰æ•ˆæ€§ï¼š
- å¿…å¡«å­—æ®µæ£€æŸ¥
- æ•°å€¼èŒƒå›´éªŒè¯
- æ–‡ä»¶è·¯å¾„å­˜åœ¨æ€§æ£€æŸ¥
- ç½‘ç»œè¿æ¥æµ‹è¯•


## ğŸ“¦ é¡¹ç›®ç»“æ„

```
demo/
â”œâ”€â”€ app/                    # åº”ç”¨å±‚
â”‚   â”œâ”€â”€ bootstrap.go       # åº”ç”¨å¯åŠ¨å¼•å¯¼
â”‚   â”œâ”€â”€ command/           # å‘½ä»¤è¡Œå·¥å…·
â”‚   â”œâ”€â”€ controller/        # æ§åˆ¶å™¨å±‚
â”‚   â”œâ”€â”€ crontab/           # å®šæ—¶ä»»åŠ¡
â”‚   â”œâ”€â”€ hooks/             # ç”Ÿå‘½å‘¨æœŸé’©å­
â”‚   â”œâ”€â”€ model/             # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ process/           # é˜Ÿåˆ—å¤„ç†
â”‚   â”œâ”€â”€ service/           # ä¸šåŠ¡æœåŠ¡å±‚
â”‚   â”œâ”€â”€ wire.go            # ä¾èµ–æ³¨å…¥é…ç½®
â”‚   â””â”€â”€ wire_gen.go        # è‡ªåŠ¨ç”Ÿæˆçš„ä¾èµ–æ³¨å…¥ä»£ç 
â”œâ”€â”€ bin/                    # å¯æ‰§è¡Œæ–‡ä»¶
â”‚   â””â”€â”€ taurus.go          # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ config/                 # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ autoload/          # è‡ªåŠ¨åŠ è½½é…ç½®
â”‚   â””â”€â”€ config.yaml        # ä¸»é…ç½®æ–‡ä»¶
â”œâ”€â”€ internal/               # å†…éƒ¨åŒ…
â”‚   â””â”€â”€ taurus/            # æ¡†æ¶æ ¸å¿ƒ
â”œâ”€â”€ pkg/                    # å…¬å…±åŒ…
â”‚   â””â”€â”€ middleware/        # è‡ªå®šä¹‰ä¸­é—´ä»¶
â”œâ”€â”€ static/                 # é™æ€èµ„æº
â”œâ”€â”€ templates/              # æ¨¡æ¿æ–‡ä»¶
â”œâ”€â”€ test/                   # æµ‹è¯•æ–‡ä»¶
â”‚   â””â”€â”€ performance/       # æ€§èƒ½æµ‹è¯•
â”œâ”€â”€ benchmark/              # åŸºå‡†æµ‹è¯•
â”œâ”€â”€ scripts/                # è„šæœ¬æ–‡ä»¶
â”œâ”€â”€ Makefile                # æ„å»ºè„šæœ¬
â”œâ”€â”€ go.mod                  # Goæ¨¡å—æ–‡ä»¶
â””â”€â”€ README.md               # é¡¹ç›®è¯´æ˜
```

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### åˆ›å»ºæ–°æ§åˆ¶å™¨
```go
package controller

import (
    "net/http"
    "github.com/stones-hub/taurus-pro-http/pkg/httpx"
    "github.com/google/wire"
)

type UserController struct {
    UserService *service.UserService
}

var UserControllerSet = wire.NewSet(wire.Struct(new(UserController), "*"))

func (c *UserController) CreateUser(w http.ResponseWriter, r *http.Request) {
    // å®ç°åˆ›å»ºç”¨æˆ·é€»è¾‘
    httpx.SendResponse(w, http.StatusCreated, user, nil)
}
```

### åˆ›å»ºæ–°æœåŠ¡
```go
package service

import (
    "context"
    "demo/app/model"
    "github.com/google/wire"
)

type UserService struct {
    userRepo *model.UserRepository
}

// UserServiceSet å¿…é¡»ä½¿ç”¨WireSetã€Setæˆ–ProviderSetç»“å°¾ï¼Œæ‰èƒ½è¢«è‡ªåŠ¨æ‰«æ
var UserServiceSet = wire.NewSet(wire.Struct(new(UserService), "*"))

func NewUserService() *UserService {
    userRepo, err := model.NewUserRepository()
    if err != nil {
        panic("åˆ›å»ºUserRepositoryå¤±è´¥: " + err.Error())
    }
    return &UserService{userRepo: userRepo}
}

func (s *UserService) CreateUser(ctx context.Context, name, password string) (*model.User, error) {
    user := &model.User{Name: name, Password: password}
    err := s.userRepo.Create(ctx, user)
    return user, err
}
```

### ğŸ”’ ä¸­é—´ä»¶å¼€å‘ä¸ä½¿ç”¨

æ¡†æ¶æä¾›äº†ä¸°å¯Œçš„ä¸­é—´ä»¶æ”¯æŒï¼ŒåŒ…æ‹¬å†…ç½®ä¸­é—´ä»¶å’Œè‡ªå®šä¹‰ä¸­é—´ä»¶å¼€å‘ã€‚

#### **ä½¿ç”¨å†…ç½®ä¸­é—´ä»¶**
æ¡†æ¶åœ¨ `taurus-pro-http` åŒ…ä¸­æä¾›äº†å¸¸ç”¨ä¸­é—´ä»¶ï¼Œå¼€ç®±å³ç”¨ï¼š

```go
import (
    "github.com/stones-hub/taurus-pro-http/pkg/middleware"
)

// åœ¨è·¯ç”±ä¸­ä½¿ç”¨å†…ç½®ä¸­é—´ä»¶
router.Use(middleware.CorsMiddleware())           // CORSè·¨åŸŸæ”¯æŒ
router.Use(middleware.LoggingMiddleware())        // è¯·æ±‚æ—¥å¿—è®°å½•
router.Use(middleware.RecoveryMiddleware())       // å¼‚å¸¸æ¢å¤
router.Use(middleware.RateLimitMiddleware())     // é™æµæ§åˆ¶
router.Use(middleware.CompressionMiddleware())    // å“åº”å‹ç¼©
router.Use(middleware.SecurityMiddleware())       // å®‰å…¨å¤´è®¾ç½®
```

#### **è‡ªå®šä¹‰ä¸­é—´ä»¶å¼€å‘**
åœ¨ `pkg/middleware` åŒ…ä¸‹åˆ›å»ºè‡ªå®šä¹‰ä¸­é—´ä»¶ï¼š

```go
package middleware

import (
    "net/http"
    "time"
    "github.com/stones-hub/taurus-pro-http/pkg/httpx"
)

// æ–¹å¼1: å‡½æ•°å¼ä¸­é—´ä»¶
func LoggingMiddleware() func(next http.Handler) http.Handler {
    return func(next http.Handler) http.Handler {
        return http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
            start := time.Now()
            
            // è°ƒç”¨ä¸‹ä¸€ä¸ªå¤„ç†å™¨
            next.ServeHTTP(w, r)
            
            // è®°å½•è¯·æ±‚ä¿¡æ¯
            duration := time.Since(start)
            log.Printf("è¯·æ±‚: %s %s, è€—æ—¶: %v", r.Method, r.URL.Path, duration)
        })
    }
}

// æ–¹å¼2: ç»“æ„ä½“ä¸­é—´ä»¶
type AuthMiddleware struct {
    RequiredRoles []string
}

func NewAuthMiddleware(roles ...string) *AuthMiddleware {
    return &AuthMiddleware{RequiredRoles: roles}
}

func (m *AuthMiddleware) ServeHTTP(w http.ResponseWriter, r *http.Request, next http.Handler) {
    token := r.Header.Get("Authorization")
    if token == "" {
        httpx.SendResponse(w, http.StatusUnauthorized, "æœªæˆæƒè®¿é—®", nil)
        return
    }
    
    // éªŒè¯tokenå’Œè§’è‰²æƒé™
    if !m.validateToken(token) {
        httpx.SendResponse(w, http.StatusForbidden, "æƒé™ä¸è¶³", nil)
        return
    }
    
    next.ServeHTTP(w, r)
}

func (m *AuthMiddleware) validateToken(token string) bool {
    // å®ç°tokenéªŒè¯é€»è¾‘
    return true
}

// æ–¹å¼3: é…ç½®åŒ–ä¸­é—´ä»¶
type RateLimitConfig struct {
    RequestsPerMinute int
    BurstSize         int
}

func RateLimitMiddleware(config RateLimitConfig) func(next http.Handler) http.Handler {
    limiter := rate.NewLimiter(rate.Limit(config.RequestsPerMinute), config.BurstSize)
    
    return func(next http.Handler) http.Handler {
        return http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
            if !limiter.Allow() {
                httpx.SendResponse(w, http.StatusTooManyRequests, "è¯·æ±‚è¿‡äºé¢‘ç¹", nil)
                return
            }
            next.ServeHTTP(w, r)
        })
    }
}
```

#### **ä¸­é—´ä»¶æ³¨å†Œä¸ä½¿ç”¨**
```go
// å…¨å±€ä¸­é—´ä»¶
router.Use(middleware.LoggingMiddleware())
router.Use(middleware.RecoveryMiddleware())

// è·¯ç”±ç»„ä¸­é—´ä»¶
apiGroup := router.Group("/api")
apiGroup.Use(middleware.AuthMiddleware())
apiGroup.Use(middleware.RateLimitMiddleware(RateLimitConfig{
    RequestsPerMinute: 100,
    BurstSize:         10,
}))

// å•ä¸ªè·¯ç”±ä¸­é—´ä»¶
router.GET("/admin", middleware.AdminOnlyMiddleware(), adminHandler)
```

### åˆ›å»ºæ–°æ¨¡å‹
```go
package model

import (
    "context"
    "time"
    "demo/internal/taurus"
    "github.com/stones-hub/taurus-pro-storage/pkg/db/dao"
    "gorm.io/gorm"
)

// User ç”¨æˆ·å®ä½“
type User struct {
    ID        uint      `gorm:"primarykey" json:"id"`
    Name      string    `gorm:"column:username;type:varchar(100);not null;comment:ç”¨æˆ·å" json:"name"`
    Password  string    `gorm:"column:password_hash;type:varchar(255);not null;comment:å¯†ç " json:"-"`
    CreatedAt time.Time `gorm:"column:created_at;autoCreateTime;comment:åˆ›å»ºæ—¶é—´" json:"created_at"`
    UpdatedAt time.Time `gorm:"column:updated_at;autoUpdateTime;comment:æ›´æ–°æ—¶é—´" json:"updated_at"`
}

// TableName å®ç°Entityæ¥å£ - è¿”å›æ•°æ®åº“è¡¨å
func (u User) TableName() string {
    return "users"
}

// DB å®ç°Entityæ¥å£ - è¿”å›æ•°æ®åº“è¿æ¥å®ä¾‹
func (u User) DB() *gorm.DB {
    db, exists := taurus.Container.DbList["default"]
    if !exists {
        // å¦‚æœé»˜è®¤æ•°æ®åº“ä¸å­˜åœ¨ï¼Œå°è¯•è·å–ç¬¬ä¸€ä¸ªå¯ç”¨çš„æ•°æ®åº“
        for _, d := range taurus.Container.DbList {
            db = d
            break
        }
    }
    return db
}

// UserRepository ç”¨æˆ·æ•°æ®è®¿é—®å±‚ï¼Œç»§æ‰¿æ³›å‹Repositoryå‡å°‘é‡å¤ä»£ç 
type UserRepository struct {
    dao.Repository[User] // æ³›å‹å®ç°ï¼Œè‡ªåŠ¨æä¾›åŸºç¡€çš„CRUDæ“ä½œ
}

// NewUserRepository åˆ›å»ºUser Repositoryå®ä¾‹
func NewUserRepository() (*UserRepository, error) {
    repo, err := dao.NewBaseRepositoryWithDB[User]()
    if err != nil {
        return nil, err
    }
    return &UserRepository{Repository: repo}, nil
}

// NewUserRepositoryWithDB ä½¿ç”¨æŒ‡å®šæ•°æ®åº“è¿æ¥åˆ›å»ºRepository
func NewUserRepositoryWithDB(db *gorm.DB) *UserRepository {
    return &UserRepository{
        Repository: dao.NewBaseRepository[User](db),
    }
}

// ==================== ä¾¿æ·æŸ¥è¯¢æ–¹æ³• ====================
// è¿™äº›æ–¹æ³•åŸºäºæ³›å‹Repositoryï¼Œæ— éœ€é‡å¤å®ç°åŸºç¡€CRUDé€»è¾‘

// FindByName æ ¹æ®ç”¨æˆ·åæŸ¥æ‰¾ç”¨æˆ·
func (r *UserRepository) FindByName(ctx context.Context, name string) (*User, error) {
    return r.FindOneByCondition(ctx, "username = ?", name)
}

// FindByNameLike æ ¹æ®ç”¨æˆ·åæ¨¡ç³ŠæŸ¥æ‰¾ç”¨æˆ·
func (r *UserRepository) FindByNameLike(ctx context.Context, namePattern string) ([]User, error) {
    return r.FindByCondition(ctx, "username LIKE ?", "%"+namePattern+"%")
}

// FindByCreatedTimeRange æ ¹æ®åˆ›å»ºæ—¶é—´èŒƒå›´æŸ¥æ‰¾ç”¨æˆ·
func (r *UserRepository) FindByCreatedTimeRange(ctx context.Context, startTime, endTime time.Time) ([]User, error) {
    return r.FindByCondition(ctx, "created_at BETWEEN ? AND ?", startTime, endTime)
}

// FindActiveUsers æŸ¥æ‰¾æ¿€æ´»çŠ¶æ€çš„ç”¨æˆ·
func (r *UserRepository) FindActiveUsers(ctx context.Context) ([]User, error) {
    return r.FindByCondition(ctx, "status = ?", "active")
}

// CountByDepartment æŒ‰éƒ¨é—¨ç»Ÿè®¡ç”¨æˆ·æ•°é‡
func (r *UserRepository) CountByDepartment(ctx context.Context, department string) (int64, error) {
    return r.CountByCondition(ctx, "department = ?", department)
}

// ==================== ä¸šåŠ¡é€»è¾‘æ–¹æ³• ====================
// è¿™äº›æ–¹æ³•åˆ©ç”¨æ³›å‹Repositoryçš„é«˜çº§åŠŸèƒ½

// CreateUserIfNotExists å¦‚æœç”¨æˆ·ä¸å­˜åœ¨åˆ™åˆ›å»º
func (r *UserRepository) CreateUserIfNotExists(ctx context.Context, user *User) (*User, error) {
    exists, err := r.ExistsByCondition(ctx, "username = ?", user.Name)
    if err != nil {
        return nil, err
    }
    
    if exists {
        return r.FindByName(ctx, user.Name)
    }
    
    err = r.Create(ctx, user)
    return user, err
}

// UpdateUserStatus æ›´æ–°ç”¨æˆ·çŠ¶æ€
func (r *UserRepository) UpdateUserStatus(ctx context.Context, id uint, status string) error {
    return r.UpdateByCondition(ctx, map[string]interface{}{"status": status}, "id = ?", id)
}

// DeleteInactiveUsers åˆ é™¤éæ´»è·ƒç”¨æˆ·
func (r *UserRepository) DeleteInactiveUsers(ctx context.Context, days int) error {
    cutoffDate := time.Now().AddDate(0, 0, -days)
    return r.DeleteByCondition(ctx, "last_login_at < ? AND status = ?", cutoffDate, "inactive")
}

// ==================== æ‰¹é‡æ“ä½œæ–¹æ³• ====================
// åˆ©ç”¨æ³›å‹Repositoryçš„æ‰¹é‡æ“ä½œåŠŸèƒ½

// CreateUsersBatch æ‰¹é‡åˆ›å»ºç”¨æˆ·
func (r *UserRepository) CreateUsersBatch(ctx context.Context, users []User) error {
    return r.CreateBatch(ctx, users)
}

// UpdateUsersBatch æ‰¹é‡æ›´æ–°ç”¨æˆ·
func (r *UserRepository) UpdateUsersBatch(ctx context.Context, users []User) error {
    return r.UpdateBatch(ctx, users)
}

// DeleteUsersBatch æ‰¹é‡åˆ é™¤ç”¨æˆ·
func (r *UserRepository) DeleteUsersBatch(ctx context.Context, ids []uint) error {
    return r.DeleteBatch(ctx, ids)
}

// ==================== é«˜çº§æŸ¥è¯¢æ–¹æ³• ====================
// åˆ©ç”¨æ³›å‹Repositoryçš„åˆ†é¡µå’ŒèšåˆåŠŸèƒ½

// FindUsersWithPagination åˆ†é¡µæŸ¥è¯¢ç”¨æˆ·
func (r *UserRepository) FindUsersWithPagination(ctx context.Context, page, pageSize int, orderBy string, desc bool) ([]User, int64, error) {
    return r.FindWithPagination(ctx, page, pageSize, orderBy, desc, nil)
}

// FindUsersByConditionWithPagination æ¡ä»¶åˆ†é¡µæŸ¥è¯¢
func (r *UserRepository) FindUsersByConditionWithPagination(ctx context.Context, page, pageSize int, condition interface{}, args ...interface{}) ([]User, int64, error) {
    return r.FindWithPagination(ctx, page, pageSize, "created_at", true, condition, args...)
}

// GetUserStatistics è·å–ç”¨æˆ·ç»Ÿè®¡ä¿¡æ¯
func (r *UserRepository) GetUserStatistics(ctx context.Context) (map[string]interface{}, error) {
    stats := make(map[string]interface{})
    
    // æ€»ç”¨æˆ·æ•°
    total, err := r.Count(ctx)
    if err != nil {
        return nil, err
    }
    stats["total"] = total
    
    // ä»Šæ—¥æ–°å¢ç”¨æˆ·æ•°
    today := time.Now().Truncate(24 * time.Hour)
    tomorrow := today.Add(24 * time.Hour)
    todayCount, err := r.CountByCondition(ctx, "created_at BETWEEN ? AND ?", today, tomorrow)
    if err != nil {
        return nil, err
    }
    stats["today_new"] = todayCount
    
    return stats, nil
}
```

### ğŸ¯ æ³›å‹Repositoryçš„ä¼˜åŠ¿

é€šè¿‡ç»§æ‰¿ `dao.Repository[User]`ï¼Œæ‚¨çš„æ¨¡å‹è‡ªåŠ¨è·å¾—ä»¥ä¸‹åŠŸèƒ½ï¼Œæ— éœ€é‡å¤å®ç°ï¼š

#### âœ¨ **åŸºç¡€CRUDæ“ä½œ**
- `Create(ctx, entity)` - åˆ›å»ºå®ä½“
- `FindByID(ctx, id)` - æ ¹æ®IDæŸ¥æ‰¾
- `FindAll(ctx)` - æŸ¥æ‰¾æ‰€æœ‰
- `Update(ctx, entity)` - æ›´æ–°å®ä½“
- `Delete(ctx, entity)` - åˆ é™¤å®ä½“
- `DeleteByID(ctx, id)` - æ ¹æ®IDåˆ é™¤

#### ğŸ” **æ¡ä»¶æŸ¥è¯¢**
- `FindByCondition(ctx, condition, args...)` - æ¡ä»¶æŸ¥è¯¢
- `FindOneByCondition(ctx, condition, args...)` - å•æ¡æ¡ä»¶æŸ¥è¯¢
- `CountByCondition(ctx, condition, args...)` - æ¡ä»¶ç»Ÿè®¡
- `ExistsByCondition(ctx, condition, args...)` - æ¡ä»¶å­˜åœ¨æ€§æ£€æŸ¥

#### ğŸ“Š **åˆ†é¡µå’Œèšåˆ**
- `FindWithPagination(ctx, page, pageSize, orderBy, desc, condition, args...)` - åˆ†é¡µæŸ¥è¯¢
- `Count(ctx)` - æ€»æ•°ç»Ÿè®¡
- `QueryToMap(ctx, sql, args...)` - åŸç”ŸSQLæŸ¥è¯¢

#### âš¡ **æ‰¹é‡æ“ä½œ**
- `CreateBatch(ctx, entities)` - æ‰¹é‡åˆ›å»º
- `UpdateBatch(ctx, entities)` - æ‰¹é‡æ›´æ–°
- `DeleteBatch(ctx, ids)` - æ‰¹é‡åˆ é™¤

#### ğŸ”„ **äº‹åŠ¡æ”¯æŒ**
- `WithTransaction(ctx, fn)` - äº‹åŠ¡æ‰§è¡Œ
- `Exec(ctx, sql, args...)` - æ‰§è¡ŒSQL

#### ğŸ’¡ **ä½¿ç”¨å»ºè®®**
1. **ç»§æ‰¿æ³›å‹Repository**: å‡å°‘90%çš„é‡å¤ä»£ç 
2. **æ·»åŠ ä¸šåŠ¡æ–¹æ³•**: åŸºäºæ³›å‹æ–¹æ³•æ„å»ºä¸šåŠ¡é€»è¾‘
3. **åˆ©ç”¨æ¡ä»¶æŸ¥è¯¢**: ä½¿ç”¨ `FindByCondition` ç­‰çµæ´»æŸ¥è¯¢
4. **æ‰¹é‡æ“ä½œä¼˜åŒ–**: ä½¿ç”¨æ‰¹é‡æ–¹æ³•æé«˜æ€§èƒ½
5. **äº‹åŠ¡ç®¡ç†**: åˆ©ç”¨ `WithTransaction` ç¡®ä¿æ•°æ®ä¸€è‡´æ€§

### ğŸ¯ **ä¾èµ–æ³¨å…¥æœ€ä½³å®è·µ**

#### **Provider Setå‘½åè§„èŒƒ**
```go
// âœ… æ­£ç¡® - ä½¿ç”¨Setç»“å°¾ï¼Œä¼šè¢«è‡ªåŠ¨æ‰«æ
var UserControllerSet = wire.NewSet(wire.Struct(new(UserController), "*"))
var UserServiceSet = wire.NewSet(wire.Struct(new(UserService), "*"))

// âŒ é”™è¯¯ - ä¸ç¬¦åˆå‘½åè§„èŒƒï¼Œä¸ä¼šè¢«æ‰«æ
var UserControllerProvider = wire.NewSet(wire.Struct(new(UserController), "*"))
var UserServiceProvider = wire.NewSet(wire.Struct(new(UserService), "*"))
```

#### **ä¾èµ–æ³¨å…¥ç»“æ„**
```go
// æ§åˆ¶å™¨ä¾èµ–æœåŠ¡
type UserController struct {
    UserService *service.UserService  // è‡ªåŠ¨æ³¨å…¥
}

// æœåŠ¡ä¾èµ–Repository
type UserService struct {
    userRepo *model.UserRepository    // è‡ªåŠ¨æ³¨å…¥
}

// Repositoryä¾èµ–æ•°æ®åº“è¿æ¥
type UserRepository struct {
    dao.Repository[User]              // æ³›å‹å®ç°
}
```

#### **è‡ªåŠ¨æ‰«ææµç¨‹**
1. **å¼€å‘é˜¶æ®µ**: åˆ›å»ºæ–°çš„Controller/Service/Repository
2. **å‘½åè§„èŒƒ**: ä½¿ç”¨ `WireSet`ã€`Set` æˆ– `ProviderSet` ç»“å°¾
3. **æ‰§è¡Œå‘½ä»¤**: è¿è¡Œ `make wire` è‡ªåŠ¨æ‰«æå’Œç”Ÿæˆ
4. **ç¼–è¯‘è¿è¡Œ**: ä¾èµ–å…³ç³»è‡ªåŠ¨è§£æå’Œæ³¨å…¥

### åˆ›å»ºå®šæ—¶ä»»åŠ¡
```go
package crontab

import (
    "context"
    "log"
    "github.com/stones-hub/taurus-pro-common/pkg/cron"
)

func init() {
    businessGroup := GetOrCreateTaskGroup("business", "core", "monitoring")
    
    statusCheckTask := cron.NewTask(
        "status_check",
        "* * * * * *", // æ¯1ç§’æ‰§è¡Œä¸€æ¬¡
        func(ctx context.Context) error {
            log.Println("æ‰§è¡ŒçŠ¶æ€æ£€æŸ¥...")
            return nil
        },
        cron.WithTimeout(10*time.Second),
        cron.WithRetry(3, time.Second),
        cron.WithGroup(businessGroup),
    )
    
    Register(statusCheckTask)
}
```

### åˆ›å»ºå‘½ä»¤è¡Œå·¥å…·
```go
package command

import (
    "github.com/stones-hub/taurus-pro-common/pkg/cmd"
)

type ExampleCommand struct {
    cmd.BaseCommand
}

func (c *ExampleCommand) Run(args []string) error {
    ctx, err := c.ParseOptions(args)
    if err != nil {
        return err
    }
    
    name := ctx.Options["name"].(string)
    fmt.Printf("Hello, %s!\n", name)
    return nil
}

func init() {
    baseCommand, err := cmd.NewBaseCommand(
        "hello",
        "ç¤ºä¾‹å‘½ä»¤",
        "[options]",
        []cmd.Option{
            {
                Name:        "name",
                Shorthand:   "n",
                Description: "ç”¨æˆ·å",
                Type:        cmd.OptionTypeString,
                Required:    true,
            },
        },
    )
    
    Register(&ExampleCommand{BaseCommand: *baseCommand})
}
```

### åˆ›å»ºé˜Ÿåˆ—å¤„ç†å™¨
```go
package process

import (
    "context"
    "log"
    "time"
    "github.com/stones-hub/taurus-pro-storage/pkg/queue"
    "github.com/stones-hub/taurus-pro-storage/pkg/queue/engine"
)

// è‡ªå®šä¹‰æ•°æ®å¤„ç†å™¨
type CustomProcessor struct {
    processedCount int64
}

func (p *CustomProcessor) Process(ctx context.Context, data []byte) error {
    // å¤„ç†ä¸šåŠ¡é€»è¾‘
    log.Printf("Processing data: %s", string(data))
    
    // æ¨¡æ‹Ÿå¤„ç†æ—¶é—´
    time.Sleep(100 * time.Millisecond)
    
    p.processedCount++
    return nil
}

// åˆå§‹åŒ–é˜Ÿåˆ—ç®¡ç†å™¨
func init() {
    config := &queue.Config{
        EngineType:        engine.TypeRedis,
        Source:            "custom_source",
        Failed:            "custom_failed",
        Processing:        "custom_processing",
        Retry:             "custom_retry",
        ReaderCount:       2,
        WorkerCount:       3,
        WorkerTimeout:     time.Second * 10,
        MaxRetries:        3,
        RetryDelay:        time.Second * 5,
        EnableFailedQueue: true,
        EnableRetryQueue:  true,
    }
    
    processor := &CustomProcessor{}
    queueManager, err := queue.NewManager(processor, config)
    if err != nil {
        log.Fatalf("Failed to create queue manager: %v", err)
    }
    
    if err = queueManager.Start(); err != nil {
        log.Fatalf("Failed to start queue manager: %v", err)
    }
}

// æ·»åŠ æ•°æ®åˆ°é˜Ÿåˆ—
func AddToQueue(data []byte) error {
    return TestQueue.AddData(context.Background(), data)
}
```

## ğŸ§ª æµ‹è¯•ä¸æ€§èƒ½

### å•å…ƒæµ‹è¯•
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
go test ./...

# è¿è¡Œç‰¹å®šåŒ…çš„æµ‹è¯•
go test ./app/service

# è¿è¡Œç‰¹å®šæµ‹è¯•å‡½æ•°
go test -v -run TestCreateUser
```

### æ€§èƒ½æµ‹è¯•
```bash
# è¿è¡Œæ€§èƒ½æµ‹è¯•
go test -v ./test/performance -run TestMemoryLeak count=1

# è¿è¡ŒåŸºå‡†æµ‹è¯•
go test -bench=. ./test/performance
```

### APIæ€§èƒ½æµ‹è¯•
```bash
# å®‰è£…k6
brew install k6  # macOS
# æˆ–
sudo apt-get install k6  # Ubuntu

# è¿è¡ŒHTTPæµ‹è¯•
k6 run benchmark/http.js

# è¿è¡ŒgRPCæµ‹è¯•
k6 run benchmark/grpc.js

# è¿è¡ŒWebSocketæµ‹è¯•
k6 run benchmark/websocket.js
```

### å†…å­˜åˆ†æ
```bash
# å¯åŠ¨pprofæœåŠ¡
curl http://localhost:6060/debug/pprof/heap > heap.prof

# åˆ†æå†…å­˜ä½¿ç”¨
go tool pprof heap.prof

# ç”Ÿæˆç«ç„°å›¾
go tool pprof -http=:8081 http://localhost:6060/debug/pprof/profile
```

## ğŸ³ éƒ¨ç½²æ–¹æ¡ˆ

### æœ¬åœ°è¿è¡Œ
```bash
# æ„å»ºåº”ç”¨
make build

# åå°è¿è¡Œ
make local-run

# åœæ­¢åº”ç”¨
make local-stop

# æŸ¥çœ‹æ—¥å¿—
tail -f logs/app.log
```

### ğŸ”§ **Makefileå‘½ä»¤è¯¦è§£**

#### **Wireä¾èµ–æ³¨å…¥ç”Ÿæˆ**
```bash
make wire
```
**æ‰§è¡Œæ­¥éª¤**:
1. **ç”Ÿæˆæ‰«æå·¥å…·**: ç¼–è¯‘ `./internal/wire/gen_wire.go` ä¸ºå¯æ‰§è¡Œæ–‡ä»¶
2. **è‡ªåŠ¨æ‰«æ**: æ‰«æ `app/` ç›®å½•ä¸‹æ‰€æœ‰ä»¥ `WireSet`ã€`Set`ã€`ProviderSet` ç»“å°¾çš„å˜é‡
3. **ç”Ÿæˆé…ç½®**: è‡ªåŠ¨ç”Ÿæˆ `app/wire.go` æ–‡ä»¶
4. **ä»£ç ç”Ÿæˆ**: ä½¿ç”¨Google Wireç”Ÿæˆæœ€ç»ˆçš„ `wire_gen.go` æ–‡ä»¶

**æ‰«æè§„åˆ™**:
- è‡ªåŠ¨å‘ç°æ‰€æœ‰ç¬¦åˆå‘½åè§„èŒƒçš„Provider Set
- æ— éœ€æ‰‹åŠ¨é…ç½®ä¾èµ–å…³ç³»
- æ”¯æŒåµŒå¥—ä¾èµ–å’Œå¾ªç¯ä¾èµ–æ£€æµ‹

### Dockeréƒ¨ç½²
```bash
# æ„å»ºå¹¶è¿è¡ŒDockerå®¹å™¨
make docker-run

# åœæ­¢Dockerå®¹å™¨
make docker-stop

# ä½¿ç”¨Docker Compose
make docker-compose-up

# åœæ­¢Docker Compose
make docker-compose-down
```

### Docker Swarméƒ¨ç½²
```bash
# æ¨é€åˆ°é•œåƒä»“åº“
make docker-image-push

# éƒ¨ç½²åˆ°Swarmé›†ç¾¤
make docker-swarm-up

# æ›´æ–°åº”ç”¨æœåŠ¡
make docker-update-app

# åˆ é™¤SwarmæœåŠ¡
make docker-swarm-down
```

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
```bash
# åˆ›å»ºå‘å¸ƒåŒ…
make local-release

# å¯åŠ¨å‘å¸ƒåŒ…
make local-release-start

# åœæ­¢å‘å¸ƒåŒ…
make local-release-stop
```

## ğŸ“ˆ æ€§èƒ½ç›‘æ§

### PProfæ€§èƒ½åˆ†æ
æ¡†æ¶é›†æˆäº†Goçš„pprofæ€§èƒ½åˆ†æå·¥å…·ï¼Œæä¾›ä»¥ä¸‹åˆ†æç«¯ç‚¹ï¼š

- **å†…å­˜åˆ†æ**: `/debug/pprof/heap`
- **CPUåˆ†æ**: `/debug/pprof/profile`
- **Goroutineåˆ†æ**: `/debug/pprof/goroutine`
- **é˜»å¡åˆ†æ**: `/debug/pprof/block`
- **äº’æ–¥é”åˆ†æ**: `/debug/pprof/mutex`

### æ€§èƒ½ç›‘æ§æœ€ä½³å®è·µ
1. **å†…å­˜æ³„æ¼æ£€æµ‹**: å®šæœŸæ£€æŸ¥å †å†…å­˜ä½¿ç”¨æƒ…å†µ
2. **CPUæ€§èƒ½åˆ†æ**: è¯†åˆ«æ€§èƒ½ç“¶é¢ˆå’Œçƒ­ç‚¹ä»£ç 
3. **Goroutineç›‘æ§**: é˜²æ­¢Goroutineæ³„æ¼
4. **æ•°æ®åº“æ€§èƒ½**: ç›‘æ§æŸ¥è¯¢æ€§èƒ½å’Œè¿æ¥æ± çŠ¶æ€
5. **ç½‘ç»œæ€§èƒ½**: ç›‘æ§HTTPè¯·æ±‚å“åº”æ—¶é—´å’Œååé‡

### ç›‘æ§æŒ‡æ ‡
- åº”ç”¨å¯åŠ¨æ—¶é—´
- è¯·æ±‚å“åº”æ—¶é—´
- å†…å­˜ä½¿ç”¨æƒ…å†µ
- æ•°æ®åº“è¿æ¥æ•°
- é”™è¯¯ç‡å’Œå¼‚å¸¸ç»Ÿè®¡

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘æµç¨‹
1. Forké¡¹ç›®åˆ°ä¸ªäººä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»ºPull Request

### ä»£ç è§„èŒƒ
- éµå¾ªGoå®˜æ–¹ä»£ç è§„èŒƒ
- ä½¿ç”¨æœ‰æ„ä¹‰çš„å˜é‡å’Œå‡½æ•°å
- æ·»åŠ å¿…è¦çš„æ³¨é‡Šå’Œæ–‡æ¡£
- ç¼–å†™å®Œæ•´çš„æµ‹è¯•ç”¨ä¾‹
- ç¡®ä¿ä»£ç é€šè¿‡æ‰€æœ‰æ£€æŸ¥

### æäº¤è§„èŒƒ
- ä½¿ç”¨æ¸…æ™°çš„æäº¤ä¿¡æ¯
- æ¯ä¸ªæäº¤åªåŒ…å«ä¸€ä¸ªåŠŸèƒ½æˆ–ä¿®å¤
- ä½¿ç”¨é€‚å½“çš„æäº¤ç±»å‹å‰ç¼€

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [Apache License 2.0](LICENSE) è®¸å¯è¯ã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºTaurus Proæ¡†æ¶åšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œç”¨æˆ·ã€‚

---

**Taurus Pro** - è®©Goå¼€å‘æ›´ç®€å•ã€æ›´é«˜æ•ˆã€æ›´ä¸“ä¸šï¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š
- ğŸ“§ Email: 61647649@qq.com
- ğŸ› Issues: [GitHub Issues](https://github.com/stones-hub/taurus-pro/issues)
- ï¿½ï¿½ æ–‡æ¡£: [é¡¹ç›®æ–‡æ¡£](docs/)
