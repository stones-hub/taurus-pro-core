flowchart TD
  A[开始] --> B[输入账号/手机号+密码]
  B --> C[归一化账号/手机号]
  C --> D{查 admin_user + user_login(type=password)}
  D -->|不存在| F1[失败: 账号不存在]
  D -->|存在但无password| F2[失败: 请用其他方式登录后设置密码]
  D -->|存在且有password| E{校验密码与状态}
  E -->|非法| F3[失败: 状态非法]
  E -->|合法| Z[登录成功]


